"use strict";(self.webpackChunkexhume=self.webpackChunkexhume||[]).push([[5669],{7598:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var i=n(9940),a=n(4848),o=n(8453);const s={slug:"exhume-aff4",title:"\ud83d\udd26 Debunking the Cellebrite (MacQuisition) Advanced Forensics File Format Version 4 (AFF4) implementation",authors:["k1nd0ne"],tags:["Thanatology","Exhume","Digital Forensics","AFF4"],draft:!1},r=void 0,l={authorsImageUrls:[void 0]},c=[];function m(e){const t={a:"a",code:"code",em:"em",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["In the objective of implementing the modern Apple File System (APFS) module of the ",(0,a.jsx)(t.code,{children:"[exhume"})," toolkit](",(0,a.jsx)(t.a,{href:"https://www.forensicxlab.com/docs/exhume",children:"https://www.forensicxlab.com/docs/exhume"}),"), a test disk image from a recent macOS system was required. In practice, acquiring ",(0,a.jsx)(t.em,{children:"physical"})," data from modern Apple hardware (especially with T2 / security constraints) quickly narrows the tooling landscape, and ",(0,a.jsx)(t.strong,{children:"Cellebrite BlackLight / MacQuisition"})," seems to be the default choice."]}),"\n",(0,a.jsxs)(t.p,{children:["After acquiring disk image of a modern Apple computer, the output format was ",(0,a.jsx)(t.strong,{children:"AFF4"})," (Advanced Forensics File Format v4). After not being able to convert this image to a raw disk image on my operating system and, in a quest to make the digital forensics investigation platform agnostic, the next step was obvious: add AFF4 support to exhume_body and make it reliable enough to feed an APFS parser."]}),"\n",(0,a.jsxs)(t.p,{children:["In this blog post, I describe that journey and the key findings along the way. The important part is this: ",(0,a.jsx)(t.strong,{children:"MacQuisition produces an AFF4 that strongly diverges from what most public AFF4 descriptions (and many OSS parsers) that I have found assume"}),", which makes existing implementations fail or perform poorly."]}),"\n",(0,a.jsx)(t.p,{children:"Let\u2019s solve this properly."})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(6540);const a={},o=i.createContext(a);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:t},e.children)}},9940:e=>{e.exports=JSON.parse('{"permalink":"/blog/exhume-aff4","source":"@site/blog/2026-02-03-aff4/index.md","title":"\ud83d\udd26 Debunking the Cellebrite (MacQuisition) Advanced Forensics File Format Version 4 (AFF4) implementation","description":"In the objective of implementing the modern Apple File System (APFS) module of the exhume toolkit, a test disk image from a recent macOS system was required. In practice, acquiring physical data from modern Apple hardware (especially with T2 / security constraints) quickly narrows the tooling landscape, and Cellebrite BlackLight / MacQuisition seems to be the default choice.","date":"2026-02-03T00:00:00.000Z","tags":[{"inline":true,"label":"Thanatology","permalink":"/blog/tags/thanatology"},{"inline":true,"label":"Exhume","permalink":"/blog/tags/exhume"},{"inline":true,"label":"Digital Forensics","permalink":"/blog/tags/digital-forensics"},{"inline":true,"label":"AFF4","permalink":"/blog/tags/aff-4"}],"readingTime":14.71,"hasTruncateMarker":true,"authors":[{"name":"k1nd0ne","title":"Digital Forensics Spiderman","url":"https://github.com/k1n0ne","page":{"permalink":"/blog/authors/k-1-nd-0-ne"},"socials":{"x":"https://x.com/k1nd0ne","github":"https://github.com/k1nd0ne","bluesky":"https://bsky.app/profile/k1nd0ne.bsky.social"},"imageURL":"https://avatars.githubusercontent.com/u/27780432?v=4","key":"k1nd0ne"}],"frontMatter":{"slug":"exhume-aff4","title":"\ud83d\udd26 Debunking the Cellebrite (MacQuisition) Advanced Forensics File Format Version 4 (AFF4) implementation","authors":["k1nd0ne"],"tags":["Thanatology","Exhume","Digital Forensics","AFF4"],"draft":false},"unlisted":false,"nextItem":{"title":"\ud83c\udf8a Thanatology Project - 2025 wrap up and goals","permalink":"/blog/thanatology-2025"}}')}}]);